<html>
   <head>
      <title>{{ title }}</title>
   </head>
   <body>

     <h1>Welcome</h1>
     <ul>
       {% for item in user %}
         <li>{{ escape(item) }}</li>
       {% end %}
     </ul>

     <h1>Content Based Recommendation</h1>
     <div class="" id = "similar_recommendation">

     </div>

     <script type="text/javascript">
         function get(e){
           var item = 'item=' + e;
           console.log(item)
           var request = new XMLHttpRequest();
           request.open('post','/ajax?', true)
           request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')
           request.send(item)

           request.onreadystatechange = function(){
             console.log('ready' + request.readyState + request.status)
             console.log(request.responseText)

             var names = ""
             if(request.readyState == 4 && request.status == 200){
              console.log(request.responseText);
              names = request.responseText;
              console.log(names);
              var similar = document.getElementById("similar_recommendation");
              similar.innerHTML = names;
            }}


         }
     </script>
   </body>
 </html>
